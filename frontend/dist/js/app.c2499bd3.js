(function(t){function e(e){for(var a,s,c=e[0],i=e[1],u=e[2],f=0,d=[];f<c.length;f++)s=c[f],o[s]&&d.push(o[s][0]),o[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"34d1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("1a43"),n("2bf3"),n("0dbc"),n("8cf6");var a=n("e832"),o=n("3d17"),r=n.n(o),s=n("d54f"),c=n.n(s),i=(n("a17c"),n("e0c4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("vs-sidebar",{staticClass:"sidebarx",attrs:{"default-index":"1",color:"primary",spacer:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._v("\n    test\n  ")]),n("router-view")],1)}),u=[],l={name:"App",data:function(){return{active:!1}}},f=l,d=(n("5c0b"),n("a6c2")),p=Object(d["a"])(f,i,u,!1,null,null,null);p.options.__file="App.vue";var v=p.exports,h=n("4af9"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},t._l(t.projects,function(e){return n("div",{staticClass:"project"},[n("h2",[t._v(t._s(e.name))]),n("vs-button",{attrs:{"vs-type":"line",to:{name:"project",params:{id:e.id}}}},[t._v("View")])],1)}))},b=[],j=n("7338"),_=n.n(j),y=n("8a95"),g=y["server"],O=g.hostname,k=g.port,P=("http://".concat(O,":").concat(k),function(){return new Promise(function(t){return t({data:y["projects"]})})}),x=function(t){return _.a.get("/api/vis/json/".concat(t))},T=function(t,e){return _.a.put("/api/translation/".concat(t),e)},w={name:"Home",created:function(){this.fetchProjects()},data:function(){return{projects:null}},methods:{fetchProjects:function(){var t=this;P().then(function(e){t.projects=e.data}).catch(function(t){console.log(t)})}}},$=w,A=(n("fdaa"),Object(d["a"])($,m,b,!1,null,"1f58692a",null));A.options.__file="Home.vue";var S=A.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"project"}},[n("div",{staticClass:"header"},[n("h1",[t._v(t._s(t.name))])]),n("div",{staticClass:"progress"},[n("vs-progress",{attrs:{percent:t.completed}})],1),n("div",{staticClass:"translations"},[n("vs-table",{attrs:{search:"",data:t.translations,"max-height":"65vh"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,function(e,a){return n("vs-tr",{key:a},[n("vs-td",{attrs:{data:e.key}},[t._v("\n            "+t._s(e.key)+"\n          ")]),t._l(t.locales,function(o){return n("vs-td",{key:o,ref:a+"-"+o,refInFor:!0,attrs:{data:e[o]}},[t._v("\n            "+t._s(e[o])+"\n\n            "),n("template",{slot:"edit"},[n("div",{},[n("vs-input",{staticClass:"inputx",attrs:{placeholder:o},on:{change:function(n){t.hasChanged(e,o,a)}},model:{value:e[o],callback:function(n){t.$set(e,o,n)},expression:"tr[locale]"}}),e.description?n("p",[t._v("description: "+t._s(e.description))]):t._e()],1)])],2)})],2)})}}])},[n("template",{slot:"thead"},[n("vs-th",{attrs:{"sort-key":"key"}},[t._v("\n          key\n        ")]),t._l(t.locales,function(e){return n("vs-th",{key:e,attrs:{"sort-key":e}},[t._v("\n          "+t._s(e)+"\n        ")])})],2)],2)],1)])},N=[],E=n("3d45"),R=n("94ea"),I="ADD_TRANSLATION",L="LOAD_TRANSLATIONS",M="REMOVE_TRANSLATION",D="UPDATE_TRANSLATION",U="SET_PROJECT",J={name:"Project",props:{id:{type:String}},created:function(){this.fetchTranslations(this.id)},data:function(){return{search:""}},computed:{locales:function(){return this.$store.state.locales.locales},name:function(){return this.$store.getters.getProject(this.id).name},translations:function(){return this.$store.state.translations.translations},completed:function(){return this.$store.getters.done.length/this.translations.length*100}},methods:Object(E["a"])({},Object(R["c"])({setTranslations:L,setProject:U}),Object(R["b"])({save:"update"}),{fetchTranslations:function(t){var e=this;x(t).then(function(n){e.setProject(t),e.setTranslations(n.data)})},hasChanged:function(t,e,n){var a=this;this.save(t).then(function(){a.$refs["".concat(n,"-").concat(e)][0].close(),a.$socket.emit("keyUpdated",{key:t.key,_id:t._id,project:t.project,value:t[e],locale:e,action:D})}).catch(function(t){console.log(t)})}})},H=J,V=(n("72ab"),Object(d["a"])(H,C,N,!1,null,"4f4b21b8",null));V.options.__file="Project.vue";var B=V.exports;a["default"].use(h["a"]);var F,K=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:S},{path:"/project/:id",name:"project",props:function(t){return{id:t.params.id}},component:B}]}),q=n("b7ea"),z=(n("8ade"),{state:{translations:[]},getters:{empty:function(t,e,n){return t.translations.map(function(t){return n.locales.locales.map(function(e){return""===t[e]})})},done:function(t){return t.translations.filter(function(t){return t.ja&&""!==t.ja})}},actions:{update:function(t,e){var n=t.commit;t.state;return new Promise(function(t,a){T(e._id,e).then(function(a){n(D,e),t()}).catch(function(t){a(t.message)})})}},mutations:(F={},Object(q["a"])(F,L,function(t,e){t.translations=e}),Object(q["a"])(F,I,function(t,e){t.translation.push(e)}),Object(q["a"])(F,D,function(t,e){t.translations.find(function(t){return t._id===e._id})[e.locale]=e.value}),Object(q["a"])(F,M,function(t,e){}),F)}),G={state:{projects:y["projects"],current:null},getters:{getProject:function(t){return function(e){return t.projects.find(function(t){return t.id===e})}}},actions:{},mutations:Object(q["a"])({},U,function(t,e){t.current=e})},Q={state:{locales:y["locales"],base:""},mutations:Object(q["a"])({},U,function(t,e){t.base=e})};a["default"].use(R["a"]);var W=new R["a"].Store({modules:{translations:z,projects:G,locales:Q}});a["default"].use(r.a,"http://localhost:3000"),a["default"].config.productionTip=!1,a["default"].use(c.a),new a["default"]({router:K,store:W,sockets:{connect:function(){console.log("socket connected")},keyUpdated:function(t){"project"===this.$route.name&&t.project.indexOf(this.$route.params.id)>-1&&(this.$store.commit(t.action,t),this.$vs.notify({title:"Key: ".concat(t.key," Updated"),text:"".concat(t.locale,": ").concat(t.value)}))}},render:function(t){return t(v)}}).$mount("#app")},"56f7":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("56f7"),o=n.n(a);o.a},"72ab":function(t,e,n){"use strict";var a=n("34d1"),o=n.n(a);o.a},"8a95":function(t,e){t.exports={server:{hostname:"localhost",port:3e3},database:"mongodb://localhost:27017/translationdb",locales:["en","ja"],projects:[{id:"p1",name:"Project A",base:"en"},{id:"p2",name:"Project B",base:"en"}],enableNotifications:!0}},af56:function(t,e,n){},fdaa:function(t,e,n){"use strict";var a=n("af56"),o=n.n(a);o.a}});
//# sourceMappingURL=app.c2499bd3.js.map